---
import type { CollectionEntry } from "astro:content";
import BaseHead from "../components/BaseHead.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import FormattedDate from "../components/FormattedDate.astro";

type Props = CollectionEntry<"blog">["data"];

const { title, description, pubDate, updatedDate, heroImage } = Astro.props;
---

<html lang="en">
  <head>
    <BaseHead title={title} description={description} />
  </head>

  <body>
      <div class="container">
        <Header />
        <main>
          <articl class="px-2">
            <div>
              {
                heroImage && (
                  <img width={1020} height={510} src={heroImage} alt="" />
                )
              }
            </div>
            <!-- Article -->
            <div>
              <div>
                <div>
                  <FormattedDate date={pubDate} />
                  {
                    updatedDate && (
                      <div class="last-updated-on">
                        Last updated on <FormattedDate date={updatedDate} />
                      </div>
                    )
                  }
                </div>
                <h1>{title}</h1>
              </div>
              <slot />
            </div>
          </articl>
        </main>
      </div>
      <Footer />
  </body>
</html>

<style is:global>
  h1 {
    @apply text-6xl;
  }
  h2 {
    @apply pt-4;
  }
  h3 {
    @apply pt-2 pb-1;
  }
  p {
    @apply py-2;
  }
  ul {
    @apply list-disc list-inside p-2;
  }
  blockquote {
    @apply px-4 py-1 my-4 border-l-4 border-cyan-500 bg-cyan-900/10 rounded-r-md w-full;
  }

  blockquote > p {
    @apply py-1;
  }
  blockquote > p > strong {
    @apply font-bold font-mono;
  }

  hr {
    @apply my-2 border-cyan-800 rounded-md border-2;
  }
</style>