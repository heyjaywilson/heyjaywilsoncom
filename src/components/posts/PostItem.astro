---
import { type CollectionEntry } from "astro:content";
import { PostType } from "../../utils/types/PostType";
import FormattedDate from "../FormattedDate.astro";
import PostTypeIcon from "./PostTypeIcon.astro";
interface Props {
  post: CollectionEntry<"blog">;
}

const { post } = Astro.props;

let type: string = post.data.type;
let derivedType: PostType = type as PostType;

---

<a href={`/blog/${post.slug}`} class="md:flex md:mb-8 text-slate-950 items-top">
  <PostTypeIcon type={derivedType} classList="pt-2 hidden md:inline-block"/>
  <div class="px-4 pt-2 pb-4 md:py-0 flex-grow flex">
    <PostTypeIcon type={derivedType} classList="pt-2 pr-2 md:hidden"/>
    <div>
      <h3 class="text-lg font-bold pb-0">{post.data.title}</h3>
      <p class="p-0 font-mono text-sm">
        <FormattedDate date={post.data.pubDate} />
      </p>
      <p class="p-0">{post.data.description}</p>
    </div>
  </div>
  {
    post.data.heroImage && (
      <img
        src={post.data.heroImage}
        alt=""
        class="rounded-b-md md:rounded-none w-full md:w-32 md:h-full"
      />
    )
  }
</a>